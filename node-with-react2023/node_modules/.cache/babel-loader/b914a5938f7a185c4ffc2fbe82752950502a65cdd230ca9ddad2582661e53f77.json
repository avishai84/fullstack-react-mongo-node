{"ast":null,"code":"var _jsxFileName = \"/Users/Avishai/Developer/fullstack/node-with-react2023/src/components/AddItem.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// type MerchArray = {data:Array<DataFromStore>};    \n// const FormItem = new FormEvent<ItemProps>({\n//     item: '',\n//     price: 0\n// });\nconst AddItem = () => {\n  _s();\n  const [item, setItem] = useState(null);\n  const priceRef = useRef(null);\n  const itemRef = useRef(null);\n  const handleItem = e => {\n    var _itemRef$current, _priceRef$current, _itemRef$current2, _priceRef$current2;\n    // check for empty fields\n    if (((_itemRef$current = itemRef.current) === null || _itemRef$current === void 0 ? void 0 : _itemRef$current.value) === '' || ((_priceRef$current = priceRef.current) === null || _priceRef$current === void 0 ? void 0 : _priceRef$current.value) === '') return;\n    e.preventDefault();\n    setItem({\n      item: (_itemRef$current2 = itemRef.current) === null || _itemRef$current2 === void 0 ? void 0 : _itemRef$current2.value,\n      price: parseInt((_priceRef$current2 = priceRef.current) === null || _priceRef$current2 === void 0 ? void 0 : _priceRef$current2.value)\n    });\n    itemRef.current.value = '';\n    priceRef.current.value = '';\n  };\n  useEffect(() => {\n    if (item === null) return;\n    fetch('http://localhost:3002/addItem', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    });\n  }, [item]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Item\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: itemRef,\n          placeholder: \"item name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Price\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          ref: priceRef,\n          placeholder: \"price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleItem,\n        children: \" Add Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 10\n  }, this);\n};\n_s(AddItem, \"iHv7Pc4T73RwWwWJ+skKUn7CfUk=\");\n_c = AddItem;\nexport default AddItem;\nvar _c;\n$RefreshReg$(_c, \"AddItem\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","AddItem","_s","item","setItem","priceRef","itemRef","handleItem","e","_itemRef$current","_priceRef$current","_itemRef$current2","_priceRef$current2","current","value","preventDefault","price","parseInt","fetch","method","headers","body","JSON","stringify","style","display","children","type","ref","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/Avishai/Developer/fullstack/node-with-react2023/src/components/AddItem.tsx"],"sourcesContent":["import React, {useEffect, useState, useRef} from 'react'\nimport useFetch from '../hooks/useFetch';\n\ntype ItemProps = {\n    item:string;\n    price: number;\n    };\n\n// type MerchArray = {data:Array<DataFromStore>};    \n// const FormItem = new FormEvent<ItemProps>({\n//     item: '',\n//     price: 0\n// });\n\nconst AddItem = ():JSX.Element => {\n    const [item, setItem] = useState<ItemProps | null>(null);\n    const priceRef = useRef<HTMLInputElement>(null);\n    const itemRef = useRef<HTMLInputElement>(null);\n\n    const handleItem = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n        // check for empty fields\n        if(itemRef.current?.value === '' || priceRef.current?.value === '') return;\n        e.preventDefault(); \n        setItem({item: itemRef.current?.value as string, price: parseInt(priceRef.current?.value as string)});\n        itemRef.current!.value = '';\n        priceRef.current!.value = '';\n    }; \n\n    useEffect(() => {\n        if(item === null) return;\n        fetch('http://localhost:3002/addItem', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(item)\n        })\n    }, [item]);\n\n\n\n  return(<div style={{ display: \"flex\"}}>\n    <div>\n        <label>Item\n            <input type=\"text\" ref={itemRef} placeholder='item name'/>\n        </label>\n        <label>Price\n            <input type=\"number\" ref={priceRef} placeholder='price'/>\n        </label>\n        <button onClick={handleItem}> Add Item</button>\n    </div>\n  </div>);\n};\n\nexport default AddItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}